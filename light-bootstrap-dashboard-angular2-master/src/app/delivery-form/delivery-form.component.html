<div class="container mx-auto p-4">
    <div class="card">
        <div class="card-header">
            <h4 class="card-title">{{isEditMode ? 'Edit' : 'Create'}} Delivery</h4>
        </div>
        <div class="card-body">
            <form [formGroup]="deliveryForm" (ngSubmit)="onSubmit()" class="form">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="orderNumber">Order Number</label>
                            <input 
                                id="orderNumber"
                                type="text"
                                formControlName="orderNumber"
                                class="form-control"
                                [class.is-invalid]="isFieldInvalid('orderNumber')">
                            <div class="invalid-feedback" *ngIf="isFieldInvalid('orderNumber')">
                                {{('orderNumber')}}
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="customerName">Customer Name</label>
                            <input 
                                id="customerName"
                                type="text"
                                formControlName="customerName"
                                class="form-control"
                                [class.is-invalid]="isFieldInvalid('customerName')">
                            <div class="invalid-feedback" *ngIf="isFieldInvalid('customerName')">
                                {{('customerName')}}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="deliveryAddress">Delivery Address</label>
                            <textarea 
                                id="deliveryAddress"
                                formControlName="deliveryAddress"
                                class="form-control"
                                rows="3"
                                [class.is-invalid]="isFieldInvalid('deliveryAddress')"></textarea>
                            <div class="invalid-feedback" *ngIf="isFieldInvalid('deliveryAddress')">
                                {{('deliveryAddress')}}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="phoneNumber">Phone Number</label>
                            <input 
                                id="phoneNumber"
                                type="tel"
                                formControlName="phoneNumber"
                                class="form-control"
                                [class.is-invalid]="isFieldInvalid('phoneNumber')">
                            <div class="invalid-feedback" *ngIf="isFieldInvalid('phoneNumber')">
                                {{('phoneNumber')}}
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="totalAmount">Total Amount</label>
                            <input 
                                id="totalAmount"
                                type="number"
                                formControlName="totalAmount"
                                class="form-control"
                                step="0.01"
                                [class.is-invalid]="isFieldInvalid('totalAmount')">
                            <div class="invalid-feedback" *ngIf="isFieldInvalid('totalAmount')">
                                {{('totalAmount')}}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="status">Status</label>
                            <select 
                                id="status"
                                formControlName="status"
                                class="form-control">
                                <option *ngFor="let status of deliveryStatuses" [value]="status">
                                    {{status}}
                                </option>
                            </select>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="estimatedDeliveryTime">Estimated Delivery Time</label>
                            <input 
                                id="estimatedDeliveryTime"
                                type="datetime-local"
                                formControlName="estimatedDeliveryTime"
                                class="form-control"
                                [class.is-invalid]="isFieldInvalid('estimatedDeliveryTime')">
                            <div class="invalid-feedback" *ngIf="isFieldInvalid('estimatedDeliveryTime')">
                                {{('estimatedDeliveryTime')}}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col-md-12">
                        <button 
                            type="submit"
                            [disabled]="!deliveryForm.valid"
                            class="btn btn-primary">
                            {{isEditMode ? 'Update' : 'Create'}} Delivery
                        </button>
                        <button 
                            type="button"
                            routerLink="/deliveries"
                            class="btn btn-light ml-2">
                            Cancel
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>